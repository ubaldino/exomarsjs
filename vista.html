<!doctype html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width" />
	<!--<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">  -->
    <meta name="format-detection" content="telephone=no" />
    <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <meta name="msapplication-tap-highlight" content="no" />

	<title>Exomars.js</title>

    <!--<link rel="stylesheet" type="text/css" href="/joydiv-skin-default.css" />-->
    <link rel="stylesheet" type="text/css" href="/static/css/estilos.css">
    <link rel="stylesheet" type="text/css" href="/static/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
	<script src="/static/js/jquery-2.0.3.min.js"></script>
		<script charset="UTF-8" src="/static/js/joydiv.js"></script>
	<!--<script src="/static/js/libs/jquery-1.10.2.js"></script>-->
	<script src="/static/js/libs/handlebars-1.1.2.js"></script>
	<script src="/static/js/libs/ember-1.6.1.js"></script>
	<script src="/static/js/app_ember.js"></script>

	<script src="/static/js/headtrackr.min.js"></script>

</head>
<body>
	<div id="contenedor">
			<!--
			<img id="video_c" class="video_c" src="http://192.168.1.192:8080/video" ></img>
			-->

		<script type="text/x-handlebars" data-template-name="index">
			<video id="video_c" class="video_c" src="/taylor.mp4" controls loop></video>
			<div id="panel_superior"></div>
				
			<!--<input type="text" id="direction1" readonly>
			<input type="text" id="direction2" readonly>-->
	
			<div id="panel_modo">
				<ul>
					<li name="control" class="btn" ><a  href="/#/">Control</a></li>
					<li name="vision_artificial" class="btn"><a  href="/#/vision_artificial">Vision Artificial</a></li>
				</ul>
			</div>
			
				

			<div id="panel_inferior"></div>
			<div id='controller1' class="joydiv-controller1">
			    <div id="adelante" class="joydiv-up"></div>
			    <div id="izquierda" class="joydiv-left"></div>
			    <div id="derecha" class="joydiv-right"></div>
			    <div id="retroceder" class="joydiv-down"></div>
			    <div class="joydiv-trackpad">
			        <div class="joydiv-tracker"></div>
			    </div>
			</div>


			<div id='controller2' class="joydiv-controller2">
			    <div class="joydiv-up"></div>
			    <div class="joydiv-left"></div>
			    <div class="joydiv-right"></div>
			    <div class="joydiv-down"></div>
			    <div class="joydiv-trackpad">
			        <div class="joydiv-tracker"></div>
			    </div>
			</div>

		
			<script charset="UTF-8" src="/static/js/eventos_mando.js"></script>
		</script>

		
		<script type="text/x-handlebars" data-template-name="vision_artificial">
			
			<h1>Vision artifial</h1>
			<div id="panel_modo">
				<ul>
					<li name="control" class="btn" ><a  href="/#/">Control</a></li>
					<li name="vision_artificial" class="btn"><a  href="/#/vision_artificial">Vision Artificial</a></li>
				</ul>
			</div>


			<canvas id="inputCanvas" width="320" height="240" style="display:none"></canvas>
			<video id="inputVideo" autoplay loop></video>
			
			<div id="log_camara"></div>
			
			<script type="text/javascript">

				document.addEventListener('headtrackrStatus', 
				  function (event) {
				    if (event.status == "getUserMedia") {
					    console.log( event.status );
				      //alert("getUserMedia is supported!");
				    }	
				  }
				);


				document.addEventListener( 'headtrackingEvent' , function(event) {
					console.log( "-----------------------" );
					console.log( "X : "+ Math.round( event.x ) );
					console.log( "Y : "+ Math.round( event.y ) );
					console.log( "Z : "+ Math.round( event.z ) );
					console.log( "-----------------------" );
					var html = "X : "+ Math.round( event.x )+"\n";
					    html += "Y : "+ Math.round( event.y )+"\n";
					    html += "Z : "+ Math.round( event.z )+"\n";
					document.getElementById("log_camara").innerHTML = html

				}, false )



				var videoInput = document.getElementById( 'inputVideo' );
				var canvasInput = document.getElementById( 'inputCanvas' );

				var htracker = new headtrackr.Tracker();
				htracker.init( videoInput, canvasInput );
				htracker.start();
			</script>


		</script>




		<script type="text/x-handlebars" data-template-name="contacto">
			<h1> La pagina de contacto! </h1>
		</script>


	</div>
	<script src="/socket.io/socket.io.js"></script>
	<script charset="UTF-8" src="/static/js/control.js"></script>
	
    <script type="text/javascript">
    io = io.connect()
    </script>	
	

</body>
</html>
